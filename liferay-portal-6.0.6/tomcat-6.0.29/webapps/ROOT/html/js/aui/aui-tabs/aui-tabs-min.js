AUI.add("aui-tabs-base",function(Q){var I=Q.Lang,K=Q.ClassNameManager.getClassName,H="tab",W="tabview",X="boundingBox",P="contentBox",G="contentNode",T=K(H),D=K(H,"content"),M=K(H,"label"),E=K(H,"disabled"),V=K(H,"active"),J=[K(W,"list"),K("widget","hd")].join(" "),U=[K(W,"content"),K("widget","bd")].join(" "),Y=K("helper-hidden"),Z="<div></div>",F="<span></span>",S="<ul></ul>",O=F,N=S,R=Z,C=Z;var L=Q.Component.create({NAME:H,ATTRS:{label:{lazyAdd:false,valueFn:function(){var A=this;var b=A.get(X);var a=b.one("."+M);var c;if(a){c=a.html();A.set("labelNode",a);}else{c=b.html();b.html("");}return c;},setter:function(b){var A=this;var a=A.get("labelNode");a.html(b);return b;}},labelNode:{valueFn:function(){var A=this;var a=A.get(X).one("."+M);if(!a){a=A._createDefaultLabel();}A.get(P).appendChild(a);return a;},setter:function(b){var A=this;var a=Q.Node.get(b);if(!a){a=A._createDefaultLabel();A.get(P).appendChild(a);}a.addClass(M);return a;}},contentNode:{value:null,setter:function(b){var A=this;var a=Q.Node.get(b);if(!a){a=A._createDefaultContentEl();A.get(P).prepend(a);}a.addClass(U);var c=A.get(G);if(c){if(!A.get("active")){a.addClass(Y);}var d=a.html();A.set("content",d);}return a;}},content:{lazyAdd:false,valueFn:function(){var a=this;var b="";var A=a.get(G);if(A){b=A.html();}return b;},setter:function(b){var A=this;var a=A.get(G);var c=a.html();if(c!=b){a.html(b);}return b;}},active:{valueFn:function(){var A=this;return A.get(X).hasClass(V);},validator:function(a){var A=this;return I.isBoolean(a)&&!A.get("disabled");},setter:function(c){var A=this;var b="addClass";var a=A.get(X);if(c===false){b="removeClass";}A.StateInteraction.set("active",c);a[b](V);A.set("contentVisible",c);return c;}},disabled:{valueFn:function(){var A=this;return A.get(X).hasClass(E);},setter:function(c){var A=this;var b="addClass";var a=A.get(X);if(c===false){b="removeClass";}a[b](E);return c;}},contentVisible:{value:false,setter:function(c){var a=this;var b="addClass";var A=a.get(G);if(c===true){b="removeClass";}if(!a.get("active")){A[b](Y);}return c;}},tabView:{value:null}},prototype:{BOUNDING_TEMPLATE:"<li></li>",CONTENT_TEMPLATE:"<span></span>",bindUI:function(){var A=this;var a=A.get(X);a.plug(Q.Plugin.StateInteraction,{bubbleTarget:A});a.StateInteraction.on("click",A._onActivateTab,A);A.StateInteraction=a.StateInteraction;A.get("labelNode").on("click",A._onLabelClick,A);},_createDefaultLabel:function(){var A=this;return Q.Node.create(O);},_createDefaultContentEl:function(){var A=this;return Q.Node.create(R);},_onActivateTab:function(b){var A=this;b.halt();var a=A.get("tabView");a.set("activeTab",A);},_onLabelClick:function(A){A.preventDefault();}}});Q.Tab=L;var B=Q.Component.create({NAME:W,ATTRS:{listNode:{value:null,setter:function(b){var A=this;var a=Q.Node.get(b);if(!a){a=A._createDefaultList();}A.get(P).prepend(a);a.addClass(J);return a;}},contentNode:{value:null,setter:function(b){var A=this;var a=Q.Node.get(b);if(!a){a=A._createDefaultContentContainer();}A.get(P).appendChild(a);a.addClass(U);return a;}},items:{value:[]},activeTab:{value:null,setter:function(b){var a=this;var A=a.get("activeTab");if(A){if(A!=b){A.set("active",false);}else{if(A.get("disabled")){b=null;}}}return b;}}},prototype:{renderUI:function(){var A=this;A.after("activeTabChange",A._onActiveTabChange);A._renderContentSections();A._renderTabs();},addTab:function(a,c){var g=this;var f=g.getTab(c);var e=g.get("items");if(I.isUndefined(c)){c=Q.Array.indexOf(e,a);}var h=c>-1;if(!h){c=e.length;e.splice(c,0,a);}if(!g.get("rendered")&&!h){return;}if(!(a instanceof L)){a=new L(a);e.splice(c,1,a);}var b=g.get("listNode");a.render(b);if(f){b.insert(a.get(X),f.get(X));}else{b.appendChild(a.get(X));}var A=a.get(G);var d=g.get(G);if(!d.contains(A)){d.appendChild(A);}if(a.get("active")){g.set("activeTab",a);}a.set("tabView",g);},deselectTab:function(a){var A=this;if(A.getTab(a)===A.get("activeTab")){A.set("activeTab",null);}},disableTab:function(a){var A=this;var b;if(I.isNumber(a)){b=A.getTab(a);}else{b=a;}if(b){b.set("disabled",true);}},enableTab:function(a){var A=this;var b;if(I.isNumber(a)){b=A.getTab(a);}else{b=a;}if(b){b.set("disabled",false);}},getTab:function(a){var A=this;return A.get("items")[a];},getTabIndex:function(b){var A=this;var a=A.get("items");return Q.Array.indexOf(a,b);},removeTab:function(c){var A=this;var d;if(I.isNumber(c)){d=A.getTab(c);}else{d=c;}if(d){var a=A.get("items");var b=a.length;if(d===A.get("activeTab")){if(b>1){if(c+1===b){A.selectTab(c-1);}else{A.selectTab(c+1);}}else{A.set("activeTab",null);}}d.destroy();a.splice(c,1);}},selectTab:function(b){var A=this;var a=A.getTab(b);A.set("activeTab",a);},_createDefaultList:function(){var A=this;return Q.Node.create(N);},_createDefaultContentContainer:function(){var A=this;return Q.Node.create(C);},_onActiveTabChange:function(a){var A=this;var b=a.prevVal;var c=a.newVal;if(c){c.set("active",true);}if(c!=b){if(b){b.set("active",false);}}},_renderContentSections:function(){var A=this;A._renderSection("list");A._renderSection("content");},_renderSection:function(a){var A=this;A.get(a+"Node");},_renderTabs:function(){var h=this;var d=h.get(G);var b=h.get("listNode");var f=b.get("children");var a=d.get("children");var e=h.get("items");var g="."+D;f.each(function(m,l,k){var j={boundingBox:m,contentBox:m.one(g),contentNode:a.item(l)};e.splice(l,0,j);});var A=e.length;for(var c=0;c<e.length;c++){h.addTab(e[c]);}if(!h.get("activeTab")){h.selectTab(0);}}}});Q.TabView=B;},"1.0.1",{requires:["aui-component","aui-state-interaction"]});AUI.add("aui-tabs-menu-plugin",function(N){var G=N.Lang,J=N.ClassNameManager.getClassName,E="tab",X="tabview",H="tabviewmenu",D="TabViewMenuPlugin",C="contentNode",W="host",K="listNode",B="rendered",S=J(E),I=J(X,"list"),T=J(X,"list","content"),P=J(H,"item"),Q=J(H,"item","label"),O=J(H,"list"),L=J(H,"trigger"),V=J(X,"wrapper"),M="first",R="last",U="<ul></ul>",Z='<li class="'+P+'" data-index="{0}"><a href="javascript:;" class="'+Q+'">{1}</a></li>',F="<div></div>";
var Y=N.Component.create({NAME:D,NS:H,EXTENDS:N.Plugin.Base,prototype:{initializer:function(){var A=this;A.afterHostMethod("renderUI",A.renderUI);A.afterHostMethod("bindUI",A.bindUI);A.afterHostMethod("addTab",A.addTab);A.afterHostMethod("removeTab",A.removeTab);A.afterHostMethod("selectTab",A.selectTab);A.afterHostMethod("_onActiveTabChange",A._onActiveTabChange);A.afterHostMethod("_renderTabs",A._renderTabs);A._updateMenuTask=new N.DelayedTask(A._updateMenu,A);A._updateUITask=new N.DelayedTask(A._updateUI,A);},bindUI:function(){var A=this;var a=A.get(W);N.on("windowresize",A._onWindowResize,A);},renderUI:function(){var A=this;var b=A.get(W);var a=b.get(K);var c=A._wrapper;A._listNodeOuterWidth=(parseFloat(a.getComputedStyle("marginLeft"))+parseFloat(c.getComputedStyle("borderLeftWidth"))+parseFloat(a.getComputedStyle("paddingLeft"))+parseFloat(a.getComputedStyle("paddingRight"))+parseFloat(c.getComputedStyle("borderRightWidth"))+parseFloat(a.getComputedStyle("marginRight")));A._updateUITask.delay(1);},addTab:function(b,a){var A=this;var c=A.get(W);if(c.get(B)){A._updateUITask.delay(1);}},removeTab:function(a){var A=this;var b=A.get(W);if(b.get(B)){A._updateUITask.delay(1);}},selectTab:function(a){var A=this;A._updateMenuTask.delay(1);A.fire("selectTab",{index:a});},_hideMenu:function(){var A=this;var b=A.get(W);var a=b.get(K);a.all("."+S).show();if(A._menuOverlay){A._menuOverlay.hide();A._triggerNode.hide();}},_onActiveTabChange:function(a){var A=this;A._updateMenuTask.delay(1);},_onWindowResize:function(b){var a=this;if(a._menuNode){var A=a.get(W).get(C);a._contentWidth=A.get("offsetWidth")-a._listNodeOuterWidth;a._updateMenuTask.delay(1);}else{a._updateUITask.delay(1);}},_renderMenu:function(){var A=this;var a=N.Node.create(F);var b=N.Node.create(U);a.addClass(L);A._wrapper.append(a);var d=new N.OverlayContext({align:{points:["tr","br"]},contentBox:b,cancellableHide:true,cssClass:O,hideDelay:1000,hideOn:"mouseout",showDelay:0,showOn:"click",trigger:a}).render();d.refreshAlign();A._menuNode=b;A._triggerNode=a;A._menuOverlay=d;A.after("selectTab",d.hide,d);var c=A.get(W);b.delegate("click",function(f){var e=f.currentTarget.get("parentNode").attr("data-index");c.selectTab(e);},"li a");},_renderTabs:function(){var a=this;var e=a.get(W);var A=e.get(C);var d=e.get(K);d.removeClass(I);d.addClass(T);var c=e._createDefaultContentContainer();c.addClass(I);var b=e._createDefaultContentContainer();b.addClass(V);b.append(c);A.insert(b,d);c.append(d);a._wrapper=b;a._content=c;},_updateMenu:function(){var n=this;var o=n.get(W);var i=n._menuNode;var c=n._wrapper;if(i){var m=true;var g=c.get("offsetWidth");var j=n._itemsWidth;if(j[j.length-1]>n._contentWidth){var h=o.get(K);var l=h.all("."+S);var f=o.getTabIndex(o.get("activeTab"));var e=(f!=0?j[f]-j[f-1]:0);var A=n._contentWidth;var k=o.selectTab;var d=[];var b=[];l.each(function(q,p,t){var s=(p<f?e:0);if(p!=f&&j[p]+s>A){q.hide();d[0]=p;d[1]=q.get("text");var r=G.sub(Z,d);b.push(r);m=false;}else{q.show();}});i.setContent(b.join(""));var a=i.all("li");a.first().addClass(M);a.last().addClass(R);}if(m){n._hideMenu();}else{n._triggerNode.show();}}},_updateUI:function(){var a=this;var d=a.get(W);a._hideMenu();var A=d.get(C);var c=d.get(K);var b=c.all("."+S);a._contentWidth=A.get("offsetWidth")-a._listNodeOuterWidth;a._itemsWidth=[];var g=a._itemsWidth;var e=(parseFloat(c.getComputedStyle("paddingLeft"))+parseFloat(c.getComputedStyle("paddingRight")));var f=b.size()-1;b.each(function(i,h,k){var l=(parseFloat(i.getComputedStyle("marginRight"))+parseFloat(i.getComputedStyle("marginLeft")));var j=h-1;if(h>0){g[j]=e+l+i.get("offsetLeft");}if(h==f){g[h]=g[j]+i.get("offsetWidth");}});if(g[g.length-1]>a._contentWidth){if(!a._menuOverlay){a._renderMenu();}a._updateMenuTask.delay(1);}}}});N.namespace("Plugin").TabViewMenu=Y;},"1.0.1",{requires:["aui-component","aui-state-interaction","aui-tabs-base","aui-overlay-context","plugin"]});AUI.add("aui-tabs",function(B){},"1.0.1",{use:["aui-tabs-base","aui-tabs-menu-plugin"],skinnable:true});