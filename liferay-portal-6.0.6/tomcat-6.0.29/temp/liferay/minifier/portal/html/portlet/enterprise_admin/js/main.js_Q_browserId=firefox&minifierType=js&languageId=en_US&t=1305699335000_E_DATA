AUI().add("liferay-enterprise-admin",function(a){var c={getCountries:function(d){Liferay.Service.Portal.Country.getCountries({active:true},d)},getRegions:function(e,d){Liferay.Service.Portal.Region.getRegions({countryId:Number(d),active:true},e)}};var b=function(f){var d=this;d._container=a.one(f.container);d._navigation=d._container.one(".form-navigation");d._sections=d._container.all(".form-section");if(d._navigation){d._navigation.delegate("click",function(h){h.preventDefault();var i=h.currentTarget;var g=i.get("parentNode");if(g&&!g.test(".selected")){d._revealSection(i.attr("href"),g);var j=i.attr("href").split("#");if(j[1]){a.later(0,d,d._updateHash,[j[1]])}}},"li a")}if(f.modifiedSections){d._modifiedSections=a.all("[name="+f.modifiedSections+"]");if(!d._modifiedSections){d._modifiedSections=a.Node.create('<input name="'+f.modifiedSections+'" type="hidden" />');d._container.append(d._modifiedSections)}}else{d._modifiedSections=null}if(f.defaultModifiedSections){d._modifiedSectionsArray=f.defaultModifiedSections}else{d._modifiedSectionsArray=[]}d._revealSection(location.href);a.on("enterpriseAdmin:trackChanges",function(g){d._trackChanges(g)});var e=d._container.all("input, select, textarea");if(e){e.on("change",function(g){a.fire("enterpriseAdmin:trackChanges",g.target)})}Liferay.on("submitForm",function(g,h){if(d._modifiedSections){d._modifiedSections.val(d._modifiedSectionsArray.join(","))}})};b.prototype={_addModifiedSection:function(e){var d=this;if(a.Array.indexOf(e,d._modifiedSectionsArray)==-1){d._modifiedSectionsArray.push(e)}},_getId:function(e){var d=this;e=e||"";if(e.indexOf("#")>-1){e=e.split("#")[1]||"";e=e.replace(d._hashKey,"")}else{if(e.indexOf("historyKey=")>-1){e=e.match(/historyKey=([^&#]+)/);e=e&&e[1]}else{e=""}}return e},_revealSection:function(i,f){var e=this;i=e._getId(i);if(i){i=i.charAt(0)!="#"?"#"+i:i;var d=f||e._navigation.one("[href$="+i+"]").get("parentNode");i=i.split("#");if(!i[1]){return}Liferay.fire("enterpriseAdmin:reveal"+i[1]);i="#"+i[1];var h=a.one(i);var g=e._navigation.one("li.selected");if(g){g.removeClass("selected")}d.addClass("selected");e._sections.removeClass("selected").hide("aui-helper-hidden-accessible");if(h){h.addClass("selected").show("aui-helper-hidden-accessible")}}},_trackChanges:function(e){var d=this;var g=a.one(e).ancestor(".form-section").attr("id");var f=a.one("#"+g+"Link");if(f){f.get("parentNode").addClass("section-modified")}d._addModifiedSection(g)},_updateHash:function(e){var d=this;location.hash=d._hashKey+e},_hashKey:"_LFR_FN_"};Liferay.EnterpriseAdmin={Addresses:c,FormNavigator:b}});